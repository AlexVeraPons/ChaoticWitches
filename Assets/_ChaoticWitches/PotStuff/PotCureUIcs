using UnityEngine;

public class PotCureUI : MonoBehaviour
{
    [SerializeField] private UIitem itemToUnpoison;
    private TeamManager _teamManager;
    private void OnEnable() {
        PlayingState.OnTurnChanged += OnTurnChanged;
    }
    private void Awake() {
        _teamManager = TeamManager.Instance;
    }
    private void OnTurnChanged()
    {
        // Check if the current team's pot is poisoned
        if (IsPotPoisoned())
        {
            itemToUnpoison.SetItem(_teamManager.GetCurrentTeam().PotInventory.GetItemNeededForCure());
        }
        else
        {
            itemToUnpoison.ClearItem();
        }
    }

    private bool IsPotPoisoned()
    {
        return _teamManager.GetCurrentTeam().PotInventory.IsPoisoned();
    }

}